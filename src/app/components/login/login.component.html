<section class="bg-main-light p-3 my-2 mx-auto w-75 rounded-2 shadow">
    <h1 class="text-main fw-bold"> Login Now</h1>
    @if (resText) {<h3 class="alert alert-danger p-2 text-center rounded w-50 mx-auto"> {{resText}}</h3>}

    <form [formGroup]="loginForm" (ngSubmit)="loginSubmit()">
        <div class="my-2">
            <label for="email" class="mb-2"><span class="text-danger">*</span>Email</label>
            <input formControlName="email" type="email" [ngClass]="{'is-invalid':(loginForm.get('email')?.errors || errorm) && (loginForm.get('email')?.touched || loginForm.get('email')?.dirty),'is-valid':!(loginForm.get('email')?.errors || errorm) && (loginForm.get('email')?.touched || loginForm.get('email')?.dirty)}" class="form-control" id="email">
            @if(loginForm.get('email')?.errors && loginForm.get('email')?.touched){
                <div class="alert alert-warning my-2 p-2 fs-6 fw-bord rounded-2"> 
                    @if (loginForm.get('email')?.getError('required')) {<p class="m-0">Email is required</p>}
                    @else if (loginForm.get('email')?.getError('email')) {<p class="m-0">Email pattern is not correct</p>}
                </div>
            }
        </div>
        
        
        <div class="my-2">
            <label for="password" class="mb-2"><span  class="text-danger">*</span>Password</label>
            <input formControlName="password" type="password" [ngClass]="{'is-invalid':(loginForm.get('password')?.errors || errorm) && (loginForm.get('password')?.touched || loginForm.get('password')?.dirty),'is-valid':!loginForm.get('password')?.errors  && (loginForm.get('password')?.touched || loginForm.get('password')?.dirty)}" class="form-control" id="password">
            <a class="text-decoration-none my-2 fs-6 text-primary" routerLink="/auth/forgot-password">Forgot Password?</a>
            @if(loginForm.get('password')?.errors && loginForm.get('password')?.touched){
                <div class="alert alert-warning my-2 p-2 fs-6 fw-bord rounded-2"> 
                    @if (loginForm.get('password')?.getError('required')) {<p class="m-0">Password is required</p>}
                </div>
            }
        </div>
       
        <button [disabled]="loginForm.invalid" class="btn-main mt-3 d-block mx-auto w-50">Login
            @if(loading){<span><i class="fa-solid fa-circle-notch fa-spin"></i></span>}
        </button>
    </form>
</section>